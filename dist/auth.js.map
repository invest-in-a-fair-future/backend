{"version":3,"sources":["../src/auth.js"],"names":["Auth","app","dotenv","require","config","configureExpress","configurePassport","localStrategy","LocalStrategy","username","password","done","user","passport","use","session","sess","secret","process","env","SESSION_SECRET","cookie","resave","saveUninitialized","get","secure"],"mappings":";;;;;;;AACA;;AACA;;;;;;;;;;IAEaA,I;;;;;;;;;8BAEMC,G,EAAK;AACpB,UAAMC,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB;;AACAD,MAAAA,MAAM,CAACE,MAAP;AAEA,WAAKC,gBAAL,CAAsBJ,GAAtB;AACA,WAAKK,iBAAL,CAAuBL,GAAvB;AACD;;;sCAEwBA,G,EAAK;AAC5B,UAAMM,aAAa,GAAG,IAAIC,sBAAJ,CAAkB,UAACC,QAAD,EAAWC,QAAX,EAAqBC,IAArB,EAA8B;AACpE;AACAA,QAAAA,IAAI,CAAC,IAAD,EAAOC,IAAP,CAAJ;AACD,OAHqB,CAAtB;;AAIAC,wBAASC,GAAT,CAAaP,aAAb;AACD;;;qCAEuBN,G,EAAK;AAC3B,UAAMc,OAAO,GAAGZ,OAAO,CAAC,iBAAD,CAAvB,CAD2B,CAG3B;;;AACA,UAAMa,IAAI,GAAG;AACXC,QAAAA,MAAM,EAAEC,OAAO,CAACC,GAAR,CAAYC,cADT;AAEXC,QAAAA,MAAM,EAAE,EAFG;AAGXC,QAAAA,MAAM,EAAE,KAHG;AAIXC,QAAAA,iBAAiB,EAAE;AAJR,OAAb;;AAOA,UAAItB,GAAG,CAACuB,GAAJ,CAAQ,KAAR,MAAmB,YAAvB,EAAqC;AACnCR,QAAAA,IAAI,CAACK,MAAL,CAAYI,MAAZ,GAAqB,IAArB,CADmC,CACR;AAC5B;;AAEDxB,MAAAA,GAAG,CAACa,GAAJ,CAAQC,OAAO,CAACC,IAAD,CAAf;AACD","sourcesContent":["/* jshint esversion: 6 */\nimport passport from 'passport';\nimport LocalStrategy from 'passport-local';\n\nexport class Auth {\n\n  static configure(app) {\n    const dotenv = require('dotenv');\n    dotenv.config();\n\n    this.configureExpress(app);\n    this.configurePassport(app);\n  }\n\n  static configurePassport(app) {\n    const localStrategy = new LocalStrategy((username, password, done) => {\n      //check username & password\n      done(null, user);\n    });\n    passport.use(localStrategy);\n  }\n\n  static configureExpress(app) {\n    const session = require('express-session');\n\n    // config express-session\n    const sess = {\n      secret: process.env.SESSION_SECRET,\n      cookie: {},\n      resave: false,\n      saveUninitialized: true\n    };\n\n    if (app.get('env') === 'production') {\n      sess.cookie.secure = true; // serve secure cookies, requires https\n    }\n\n    app.use(session(sess));\n  }\n}"],"file":"auth.js"}