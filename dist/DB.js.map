{"version":3,"sources":["../src/DB.js"],"names":["DB","Promise","resolve","reject","client","MongoClient","connect","config","db","url","e","err","name","getClient","then","collection","catch"],"mappings":";;;;;;;AAEA;;AACA;;;;;;;;;;IAEaA,E;;;;;;;;;gCACQ;AACjB,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,YAAG,CAACH,EAAE,CAACI,MAAP,EAAe;AACbC,+BAAYC,OAAZ,CAAoBC,gBAAOC,EAAP,CAAUC,GAA9B,EAAmC,UAACC,CAAD,EAAIN,MAAJ,EAAe;AAChD,gBAAGO,GAAH,EAAQ;AACN,qBAAOR,MAAM,CAACO,CAAD,CAAb;AACD;;AAEDV,YAAAA,EAAE,CAACI,MAAH,GAAYA,MAAZ;AACAF,YAAAA,OAAO,CAACF,EAAE,CAACI,MAAJ,CAAP;AACD,WAPD;AAQD,SATD,MASO;AACLF,UAAAA,OAAO,CAACF,EAAE,CAACI,MAAJ,CAAP;AACD;AACF,OAbM,CAAP;AAcD;;;kCAEoBQ,I,EAAM;AACzB,aAAO,IAAIX,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCH,QAAAA,EAAE,CAACa,SAAH,GACGC,IADH,CACQ,UAACV,MAAD,EAAY;AAChB,cAAMW,UAAU,GAAGX,MAAM,CAACW,UAAP,CAAkBH,IAAlB,CAAnB;AACAV,UAAAA,OAAO,CAACa,UAAD,CAAP;AACD,SAJH,EAKGC,KALH,CAKSb,MALT;AAMD,OAPM,CAAP;AAQD","sourcesContent":["/* jshint esversion: 6 */\n\nimport { MongoClient } from 'mongodb';\nimport config from 'config/config';\n\nexport class DB {\n  static getClient() {\n    return new Promise((resolve, reject) => {\n      if(!DB.client) {\n        MongoClient.connect(config.db.url, (e, client) => {\n          if(err) {\n            return reject(e);\n          }\n\n          DB.client = client;\n          resolve(DB.client);\n        });\n      } else {\n        resolve(DB.client);\n      }\n    });\n  }\n\n  static getCollection(name) {\n    return new Promise((resolve, reject) => {\n      DB.getClient()\n        .then((client) => {\n          const collection = client.collection(name);\n          resolve(collection);\n        })\n        .catch(reject);\n    });\n  }\n}"],"file":"DB.js"}